#%DDDML 0.1

---

# ------------------------------
aggregates:
              
    # ----------------------- aggregate -------------------------
    Movement:
      id:
        name: DocumentNumber
        type: string
        
      properties:
      
        DocumentTypeId:
          referenceType: DocumentType

        DocumentStatusId:
          type: string
          commandType: DocumentAction
          commandName: DocumentAction
          
        MovementTypeId:
          type: string
          referenceType: MovementType
          
        Description:
          type: string

        # ------------------------------------
        MovementLines:
          itemType: MovementLine
          
        MovementConfirmationLines:
          itemType: MovementConfirmationLine
        
      entities:
      
        MovementLine:
          id: 
            name: LineNumber
            type: string
        
          properties:
            MovementQuantity:
              type: decimal
              displayName: Quantity of a product moved.
              description: The Movement Quantity indicates the quantity of a product that has been moved. 

        MovementConfirmationLine:
          id: 
            name: LineNumber
            type: string
        
          properties:
          
            TargetQuantity:
              description: The Quantity which should have been received.
              type: decimal
              
            ConfirmedQuantity:
              description: Confirmation of a received quantity.
              type: decimal
              
            DifferenceQuantity:
              description: If there is a difference quantity, a Physical Inventory is created for the source (from) warehouse. 
              type: decimal

            ScrappedQuantity:
              description: "The Quantity scrapped due to QA issues. If there is a scrapped quantity, a Physical Inventory is created for the target (to) warehouse."
              type: decimal
          

      # metadata:
        # NoEventSourcing: true

          