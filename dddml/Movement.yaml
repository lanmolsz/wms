#%DDDML 0.1

---

# ------------------------------
aggregates:
              
    # ----------------------- aggregate -------------------------
    Movement:
      id:
        name: DocumentNumber
        type: string
        
      properties:
      
        DocumentStatusId:
          type: string
          commandType: DocumentAction
          commandName: DocumentAction
          
        MovementDate:
          type: DateTime
        
        Posted:
          type: bool
        
        Processed:
          type: bool
          
        Processing:
          type: string
        
        DateReceived:
          type: DateTime
        
        DocumentTypeId:
          referenceType: DocumentType

        IsInTransit:
          type: bool
          
        IsApproved:
          type: bool
        
        ApprovalAmount:
          type: decimal
          
        ShipperId:
          type: string
        
        SalesRepresentativeId:
          type: string
        
        BusinessPartnerId:
          type: string
        
        ChargeAmount:
          type: decimal
        
        CreateFrom:
          type: string
          
        FreightAmount:
          type: decimal
        
        ReversalDocumentNumber:
          type: string
        
        #POReference:
        #  type: string
          
        WarehouseIdFrom:
          type: string
        
        WarehouseIdTo:
          type: string
        
        Description:
          type: string

        # ------------------------------------
        MovementLines:
          itemType: MovementLine
          
      entities:
      
        MovementLine:
          id: 
            name: LineNumber
            type: string
        
          properties:
          
            MovementQuantity:
              type: decimal
              displayName: Quantity of a product moved.
              description: The Movement Quantity indicates the quantity of a product that has been moved. 

            ProductId:
              type: string
              
            LocatorIdFrom:
              type: string
              
            LocatorIdTo:
              type: string
              
            AttributeSetInstanceIdFrom:
              type: string
              
            AttributeSetInstanceIdTo:
              type: string
              
            Processed:
              type: bool

            # dd_orderline_id numeric(10,0),

            ReversalLineNumber:
              type: string
        
        
      # metadata:
        # NoEventSourcing: true

          