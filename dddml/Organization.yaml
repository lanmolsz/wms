#%DDDML 0.1

---

# ------------------------------
aggregates:

    # --------------- aggregate ---------------
    Organization:
      inheritedFrom: Party
      id:
        name: PartyId
        type: string

      properties:
        OrganizationName:
          type: string
        Description:
          type: string
        Type:
          type: string
        IsSummary:
          type: bool
          
        # ad_replicationstrategy_id numeric,
        
      discriminatorValue: "Organization"

        
    # --------------- aggregate ---------------
    OrganizationStructure:
      id:
        name: Id
        type: OrganizationStructureId

      # properties:
          
      # ------------------------------
      valueObjects:
      
        # --------------- valueObject ---------------
        OrganizationStructureId:
          properties:
            OrganizationStructureTypeId:
              referenceType: OrganizationStructureType
            ParentId:
              referenceType: Organization
            SubsidiaryId:
              referenceType: Organization


    # --------------- aggregate ---------------
    OrganizationStructureType:
      id: 
        name: Id
        type: string
      
      properties:
        Description:
          type: string
        
        
# -------------------------------------
trees:
    
    OrganizationTree:
      nodeContentType: Organization
      structureType: OrganizationStructure
      parentId: Id.ParentId
      childId: Id.SubsidiaryId
      rootParentIdValues: [""]

      