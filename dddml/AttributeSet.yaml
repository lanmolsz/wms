#%DDDML 0.1

---

# ------------------------------
aggregates:


    # --------------- aggregate ---------------
    Attribute:

      id:
        name: AttributeId
        type: string
        arbitrary: true
        isServerSideGenerated: true
        constraints: [AttributeId]

      properties:  
      
        AttributeName:
          type: string

        OrganizationId:
          type: string
          
        Description:
          type: string

        IsMandatory:
          type: bool
          description: The field must have a value for the record to be saved to the database.
          
        AttributeValueType:
          type: string
          description: The Attribute Value type deternines the data/validation type.

        AttributeValueLength:
          type: int?
        
        IsList:
          type: bool
          description: Is the attribute values a list(enumerable).
        
        FieldName:
          type: string
          description: The field name to save this attribute.

        ReferenceId:
          type: string

        # -------------------------------
        AttributeValues:
          itemType: AttributeValue
        Aliases:
          itemType: AttributeAlias
        # -------------------------------
          
      uniqueConstraints:
        UniqueFieldName: [FieldName]

        
      entities:
        
        # -------------------------------
        AttributeValue:
          id:
            name: Value
            type: string
          properties:
            AttributeValueName:
              type: string
            Description:
              type: string
            ReferenceId:
              type: string

        # -------------------------------
        AttributeAlias:
          description: The alias of the attribute.
          id:
            name: Code
            type: string
          properties:
            Name:
              type: string
          uniqueConstraints:
            UniqueAttributeAliasId: [Code]
            UniqueAttributeAliasName: [Name]
        # -------------------------------
              
    AttributeSet:

      id:
        name: AttributeSetId
        type: string
              

      properties:  
        
        AttributeSetName: 
          type: string

        OrganizationId:
          type: string

        Description:
          type: string
        
        # bool HasSerialNumber
        # bool IsSerialNumberMandatory
        SerialNumberAttributeId:
          type: string

        # bool HasLot
        # bool IsLotMandatory
        LotAttributeId:
          type: string
           
        # bool HasGuaranteeDate
        # bool IsGuaranteeDateMandatory
        
        ReferenceId:
          type: string

        # The product attribute is specific to the instance (like Serial No, Lot or Guarantee Date)
        # [If true, the individual instance of the product has this attribute - 
        # like the individual Serial or Lot Numbers or Guarantee Date of a product instance. 
        # If not selected, all instances of the product share the attribute (e.g. color=green). ]
        IsInstanceAttributeSet:
          type: bool
          
        # string MandatoryType
        # The specification of a Product Attribute Instance is mandatory.
        IsMandatory:
          type: bool
          
        AttributeUses:
          itemType: AttributeUse

            
      entities:
          
        AttributeUse:
          id: 
            name: AttributeId
            type: string
              
          properties:  

            SequenceNumber:
              type: int
                

                
                